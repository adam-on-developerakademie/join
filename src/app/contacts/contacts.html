<div class="contacts-canvas">
  <section>
    <div class="list-panel">
      <div class="list-panel__inner">
        <div class="primary-contact-container">
          <button class="primary-contact" (click)="showContactOverlay()">
            <span>Add new contact</span>
            <img src="assets/components/contacts/add_contact.svg" alt="" />
          </button>
        </div>
        <div class="contacts-list">
          <div class="contacts-list-center" [class.dnone]="this.contactlistHidden">
            @for (group of getContactsGroups(); track group) {
            <p class="letter">{{ group }}</p>
            <div class="divider"></div>

            @for (item of getContacts(); track item) { @if (item.name.charAt(0).toUpperCase() == group) {
            <div class="contact-row" (click)="showContact($index)">
              <div class="badge">
                <div class="badge__circle" [style.background]="item.color"></div>
                <div class="badge__initials">
                  {{ item.name.substring(0, 1).toUpperCase() + item.surname.substring(0, 1).toUpperCase() }}
                </div>
              </div>
              <div class="contact-row__text">
                <div class="name">{{ item.name + ' ' + item.surname }}</div>
                <div class="mail">{{ item.email }}</div>
              </div>
            </div>
            } } }
          </div>
        </div>
      </div>
    </div>


    <div class="detail-panel">
      <div class="heading">
        <h1>Contacts</h1>
        <img src="assets/components/contact-card/heading_blue_line.svg" class="blue-line" alt="" />
        <p>Better with a team</p>
      </div>
    </div>

    <div class="detail-panel-mobile">
      <div class="heading-mobile">
        <h1>Contacts</h1>
        <p>Better with a team2</p>
        <img src="assets/components/contact-card/heading_blue_line.svg" class="blue-line" alt="" />
      </div>
    </div>




  </section>
</div>

<app-contact-created-toast [show]="toastOpen"></app-contact-created-toast>

@if (showAddContact) {
<app-add-contact (close)="onCloseOverlay()" (created)="onContactCreated()"></app-add-contact>
}